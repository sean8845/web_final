<!DOCTYPE html>
<html>
<head>
    <title>餐廳系統-訂位</title>
    <link rel="stylesheet" type="text/css" href="Home.css">
</head>
<body>
    <h1>訂位表單</h1>
    <a href="Home.html"class="nav-link"><h3>首頁</h3></a>

    <form id="reservationForm">
        <label for="name">姓名：</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="phone">電話：</label>
        <input type="tel" id="phone" name="phone" required><br><br>

        <label for="date">日期：</label>
        <input type="date" id="date" name="date" required><br><br>

        <label for="time">時間：</label>
        <select id="table" name="table" required>
            <option value="">請選擇...</option>
            <option value="1">17:00</option>
            <option value="2">18:00</option>
            <option value="3">19:00</option>
        </select><br><br>

        <label for="table">桌別：</label>
        <select id="table" name="table" required>
            <option value="">請選擇...</option>
            <option value="1">2人桌</option>
            <option value="2">4人桌</option>
            <option value="6">6人桌</option>
            <option value="8">8人桌</option>
        </select><br><br>

        <input type="submit" value="提交訂位">
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var today = new Date().toISOString().split('T')[0];
            document.getElementById('date').setAttribute('min', today);
        });

        document.getElementById('reservationForm').addEventListener('submit', function(event) {
            event.preventDefault();

            var name = document.getElementById('name').value;
            var phone = document.getElementById('phone').value;
            var date = document.getElementById('date').value;
            var time = document.getElementById('time').value;
            var table = document.getElementById('table').value;

            var reservationData = {
                name: name,
                phone: phone,
                date: date,
                time: time,
                table: table
            };

            fetch('/reservations', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(reservationData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });

    </script>
</body>
</html>
